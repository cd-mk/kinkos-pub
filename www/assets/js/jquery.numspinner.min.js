(function(a){a.fn.numSpinner=function(b){return this.each(function(){var c={min:1,max:10,step:1,value:0};var d=a.extend({},c,b);if(d.value<d.min)d.value=d.min;if(d.value>d.max)d.value=d.max;var e=a(this).parent();e.empty();var f='<div class="spinner">';f+='<input type="text" name="'+this.id+'" maxlength="4" pattern="[0-9]*" value="'+d.value+'" />';f+='\t<div class="buttons">';f+='\t\t<div class="up"></div>';f+='\t\t<div class="down"></div>';f+="\t</div>";e.html(f);a.btnClick(e,d)})};a.btnClick=function(b,c){a(b).find(".spinner .buttons .up").each(function(){a(this).css("cursor","pointer");var b=a(this).parent().parent().find("input");b.OnlyNumeric(c);a(this).click(function(){if(b.val()=="")b.val(c.min-c.step);if(b.val()<c.max)b.val(parseInt(b.val())+c.step);if(b.val()>c.max)b.val(c.max)})});a(b).find(".spinner .buttons .down").each(function(){a(this).css("cursor","pointer");var b=a(this).parent().parent().find("input");b.OnlyNumeric(c);a(this).click(function(){if(b.val()=="")b.val(c.min);if(b.val()>c.min)b.val(parseInt(b.val())-c.step);if(b.val()<c.min)b.val(c.min)})})};a.fn.OnlyNumeric=function(b){this.css("ime-mode","disabled");var c="abcdefghijklmnopqrstuvwxyz";c+=c.toUpperCase();var d=a.extend({nchars:c},d);d=a.extend({ichars:"!@#$%^&*()+=[]\\';,/{}|\":<>?~`.-_ ",nchars:"",allow:""},d);return this.each(function(){s=d.allow.split("");for(i=0;i<s.length;i++)if(d.ichars.indexOf(s[i])!=-1)s[i]="\\"+s[i];d.allow=s.join("|");var c=new RegExp(d.allow,"gi");var e=d.ichars+d.nchars;e=e.replace(c,"");a(this).keyup(function(c){if(a(this).val()=="")a(this).val(b.min);if(a(this).val()<b.min)a(this).val(b.min);if(a(this).val()>b.max)a(this).val(b.max)});a(this).keypress(function(a){if(!a.charCode)k=String.fromCharCode(a.which);else k=String.fromCharCode(a.charCode);if(e.indexOf(k)!=-1)a.preventDefault();if(a.ctrlKey&&k=="v")a.preventDefault()});a(this).bind("contextmenu",function(){return false})})}})(jQuery)